(()=>{(function(){"use strict";function u(t){let e=document.querySelector(`[data-tui-dialog-backdrop][data-dialog-instance="${t}"]`),a=document.querySelector(`[data-tui-dialog-content][data-dialog-instance="${t}"]`);!e||!a||(e.removeAttribute("data-tui-dialog-hidden"),a.removeAttribute("data-tui-dialog-hidden"),requestAnimationFrame(()=>{e.setAttribute("data-tui-dialog-open","true"),a.setAttribute("data-tui-dialog-open","true"),document.body.style.overflow="hidden",document.querySelectorAll(`[data-tui-dialog-trigger][data-dialog-instance="${t}"]`).forEach(o=>{o.setAttribute("data-tui-dialog-trigger-open","true")}),setTimeout(()=>{a.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus()},50)}))}function n(t){let e=document.querySelector(`[data-tui-dialog-backdrop][data-dialog-instance="${t}"]`),a=document.querySelector(`[data-tui-dialog-content][data-dialog-instance="${t}"]`);!e||!a||(e.setAttribute("data-tui-dialog-open","false"),a.setAttribute("data-tui-dialog-open","false"),document.querySelectorAll(`[data-tui-dialog-trigger][data-dialog-instance="${t}"]`).forEach(o=>{o.setAttribute("data-tui-dialog-trigger-open","false")}),setTimeout(()=>{e.setAttribute("data-tui-dialog-hidden","true"),a.setAttribute("data-tui-dialog-hidden","true"),document.querySelector('[data-tui-dialog-content][data-tui-dialog-open="true"]')||(document.body.style.overflow="")},300))}function l(t){let e=t.getAttribute("data-dialog-instance");if(e)return e;let a=t.closest("[data-tui-dialog]");return a?a.getAttribute("data-dialog-instance"):null}function r(t){return document.querySelector(`[data-tui-dialog-content][data-dialog-instance="${t}"]`)?.getAttribute("data-tui-dialog-open")==="true"||!1}function c(t){r(t)?n(t):u(t)}document.addEventListener("click",t=>{let e=t.target.closest("[data-tui-dialog-trigger]");if(e){let i=e.getAttribute("data-dialog-instance");if(!i)return;c(i);return}let a=t.target.closest("[data-tui-dialog-close]");if(a){let d=a.getAttribute("data-tui-dialog-close")||l(a);d&&n(d);return}let o=t.target.closest("[data-tui-dialog-backdrop]");if(o){let i=o.getAttribute("data-dialog-instance");if(!i)return;let d=document.querySelector(`[data-tui-dialog][data-dialog-instance="${i}"]`),s=document.querySelector(`[data-tui-dialog-content][data-dialog-instance="${i}"]`);d?.hasAttribute("data-tui-dialog-disable-click-away")||s?.hasAttribute("data-tui-dialog-disable-click-away")||n(i)}}),document.addEventListener("keydown",t=>{if(t.key==="Escape"){let e=document.querySelectorAll('[data-tui-dialog-content][data-tui-dialog-open="true"]');if(e.length===0)return;let a=e[e.length-1],o=a.getAttribute("data-dialog-instance");if(!o)return;document.querySelector(`[data-tui-dialog][data-dialog-instance="${o}"]`)?.hasAttribute("data-tui-dialog-disable-esc")||a?.hasAttribute("data-tui-dialog-disable-esc")||n(o)}}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('[data-tui-dialog-content][data-tui-dialog-open="true"]').length>0&&(document.body.style.overflow="hidden")}),new MutationObserver(()=>{document.querySelector('[data-tui-dialog-content][data-tui-dialog-open="true"]')||(document.body.style.overflow="")}).observe(document.body,{childList:!0,subtree:!0}),window.tui=window.tui||{},window.tui.dialog={open:u,close:n,toggle:c,isOpen:r}})();})();
